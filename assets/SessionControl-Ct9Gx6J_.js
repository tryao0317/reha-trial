import{f as j,r as n,j as e,C as m,a as x,b as o,e as v,c as h,B as r}from"./index-BvKj1L6s.js";import{P as R,R as T}from"./rotate-ccw-BojY9VN6.js";import{P as z}from"./pause-B1wLqD7I.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],P=j("clock",E);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],M=j("square",B);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],F=j("target",q),K=({isActive:s,onStart:f,onPause:u,onStop:g,onReset:N,sessionData:a,currentExercise:w="24式太極拳 - 基礎段階"})=>{var b;const[t,p]=n.useState(0),[i,c]=n.useState(!1);n.useEffect(()=>{let l=null;return s&&i?l=setInterval(()=>{p(d=>d+1)},1e3):clearInterval(l),()=>clearInterval(l)},[s,i]),n.useEffect(()=>{c(s)},[s]);const C=l=>{const d=Math.floor(l/60),I=l%60;return`${d.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`},S=()=>{c(!0),f&&f()},k=()=>{c(!1),u&&u()},_=()=>{c(!1),g&&g()},$=()=>{p(0),c(!1),N&&N()},y=s&&i?{text:"実行中",color:"bg-green-600"}:!s&&t>0?{text:"一時停止",color:"bg-yellow-600"}:{text:"待機中",color:"bg-gray-600"};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(m,{children:[e.jsx(x,{className:"pb-3",children:e.jsxs(o,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"セッション情報"]}),e.jsx(v,{className:y.color,children:y.text})]})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"現在のエクササイズ"}),e.jsx("span",{className:"text-sm text-gray-600",children:w})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium flex items-center gap-1",children:[e.jsx(P,{className:"h-4 w-4"}),"セッション時間"]}),e.jsx("span",{className:"text-lg font-mono font-bold text-blue-600",children:C(t)})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"平均正確性"}),e.jsxs(v,{variant:a.averageAccuracy>=80?"default":"secondary",children:[((b=a.averageAccuracy)==null?void 0:b.toFixed(1))||0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"記録されたポーズ"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[a.poseCount||0," フレーム"]})]})]})]})})]}),e.jsxs(m,{children:[e.jsx(x,{className:"pb-3",children:e.jsx(o,{children:"セッション制御"})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s?e.jsxs(r,{onClick:k,variant:"outline",className:"flex items-center gap-2",size:"lg",children:[e.jsx(z,{className:"h-4 w-4"}),"一時停止"]}):e.jsxs(r,{onClick:S,className:"flex items-center gap-2",size:"lg",children:[e.jsx(R,{className:"h-4 w-4"}),"開始"]}),e.jsxs(r,{onClick:_,variant:"destructive",className:"flex items-center gap-2",size:"lg",disabled:t===0,children:[e.jsx(M,{className:"h-4 w-4"}),"停止"]}),e.jsxs(r,{onClick:$,variant:"outline",className:"flex items-center gap-2 col-span-2",size:"lg",disabled:t===0&&!s,children:[e.jsx(T,{className:"h-4 w-4"}),"リセット"]})]})})]}),e.jsxs(m,{children:[e.jsx(x,{className:"pb-3",children:e.jsx(o,{children:"今日の目標"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"セッション時間"}),e.jsx("span",{className:"text-sm font-medium",children:"20分"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(t/(20*60)*100,100)}%`}})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"正確性目標"}),e.jsx("span",{className:"text-sm font-medium",children:"80%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(((a==null?void 0:a.averageAccuracy)||0)/80*100,100)}%`}})})]})})]})]})};export{K as default};
